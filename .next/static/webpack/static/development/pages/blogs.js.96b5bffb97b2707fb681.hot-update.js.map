{"version":3,"file":"static/webpack/static/development/pages/blogs.js.96b5bffb97b2707fb681.hot-update.js","sources":["webpack:///./pages/blogs.js"],"sourcesContent":["import { useState } from \"react\";\nimport Router from \"next/router\";\nimport Link from \"next/link\";\nimport Head from \"next/head\";\nimport Layout from \"../components/Layout\";\nimport fetch from \"isomorphic-fetch\";\nimport ReactHtmlParser from \"react-html-parser\";\n\nconst Blogs = ({ data }) => {\n  const [searchQuery, setSearchQuery] = useState(\"tubridy\");\n  const searchForm = () => (\n    <form onSubmit={handleSubmit}>\n      <input type=\"text\" value={searchQuery} onChange={handleTextChange} />\n    </form>\n  );\n\n  const handleTextChange = e => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    Router.push(`/blogs/?searchTerm=${searchQuery}`);\n  };\n\n  return (\n    <Layout title=\"Blogs\" footer={`Copyright ${new Date().getFullYear()}`}>\n      <Head>\n        <title>Blogs</title>\n      </Head>\n      {searchForm()}\n      <div className=\"grid-container\">\n        <div className=\"grid-x grid-margin-x\">\n          {data.map((b, i) => (\n            <div key={b.id} className=\"cell medium-6 article\">\n              <img src={b.better_featured_image.source_url} />\n              <div className=\"entry-wrap\">\n                <Link as={`/blog/${b.id}`} href={`/blog/?id=${b.id}`}>\n                  <h4>\n                    <span className=\"subheader\">{ReactHtmlParser(b.acf.sub_heading)}</span> /{\" \"}\n                    {ReactHtmlParser(b.title.rendered)}\n                  </h4>\n                </Link>\n              </div>\n              <button\n                onClick={() => {\n                  let audioPLayer = document.getElementById(\"audioPlayer\");\n                  audioPLayer.setAttribute(\"src\", b.rte_mp3_audio);\n                  audioPLayer.play();\n                }}\n              >\n                Play\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n      <style jsx>\n        {`\n          p {\n            font-size: 18px;\n            font-family: \"Comic Sans\";\n            color: blue;\n          }\n        `}\n      </style>\n    </Layout>\n  );\n};\n\nBlogs.getInitialProps = async ({ query }) => {\n  console.log(`${query.searchTerm}`);\n  let url = `https://radio.rte.ie/radio1highlights/wp-json/wp/v2/posts/`;\n  if (query.searchTerm) {\n    url = `https://radio.rte.ie/radio1highlights/wp-json/wp/v2/posts?search=${query.searchTerm}`;\n  }\n  const response = await fetch(url);\n  const data = await response.json();\n  console.log(`got ${data.length} records`);\n  console.log(data);\n  return {\n    data\n  };\n};\n\nexport default Blogs;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAFA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAMA;AACA;AACA;AACA;AACA;AALA;AAAA;AAXA;AAPA;AAAA;AA0CA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AANA;AAAA;AACA;AADA;AAMA;AANA;AAAA;AACA;AADA;AAOA;AACA;AACA;AATA;AAWA;AADA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAcA;;;;A","sourceRoot":""}